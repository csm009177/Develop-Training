<!DOCTYPE html>
<html lang="en">
<head>
  <!-- 문서 형식과 언어 설정 -->
  <meta charset="UTF-8">
  <!-- 뷰포트 설정 -->
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <!-- 문서 제목 설정 -->
  <title>문서</title>
</head>
<body>
  <!-- 렌더링 결과를 담을 루트 요소 -->
  <div id="root"></div>

  <script>
    // 가상 DOM 요소를 생성하는 함수
    function createElement(type, props, ...children) {
      return { type, props, children };
    }

    // 컴포넌트 함수 정의
    function component(stateData) {
      // 메뉴 아이템을 담을 배열
      const menuItems = [];

      // 상태 데이터를 기반으로 메뉴 아이템 생성
      for (let i = 0; i < stateData.length; i++) {
        const item = stateData[i];
        // 각 메뉴 아이템은 리스트 아이템(<li>) 내에 링크(<a>)를 포함
        const menuItem = createElement('li', {}, createElement('a', { href: item.hash }, item.text));
        // 메뉴 아이템을 배열에 추가
        menuItems.push(menuItem);
      }

      // 전체 메뉴를 나타내는 리스트(<ul>) 생성
      const menu = createElement('ul', {}, ...menuItems);

      // 컨텐츠를 나타내는 <div> 요소 생성
      const content = createElement('div', {}, '안녕하세요, 리액트');

      // 최종적으로 전체 컴포넌트를 나타내는 <div> 생성
      return createElement('div', {}, menu, content);
    }

    // DOM 요소를 생성하여 렌더링하는 함수
    function render(virtualDom) {
      if (typeof virtualDom === 'string') {
        // 텍스트 노드 생성
        return document.createTextNode(virtualDom);
      }

      // 요소의 타입에 따라 HTML 요소 생성
      const element = document.createElement(virtualDom.type);

      // 속성 설정
      if (virtualDom.props) {
        for (const [key, value] of Object.entries(virtualDom.props)) {
          element.setAttribute(key, value);
        }
      }

      // 자식 요소들을 재귀적으로 렌더링하여 추가
      for (let i = 0; i < virtualDom.children.length; i++) {
        const child = virtualDom.children[i];
        element.appendChild(render(child));
      }

      return element;
    }

    // 상태 데이터 정의
    const stateData = [
      { hash: '#home', text: '홈' },
      { hash: '#about', text: '소개' },
      { hash: '#services', text: '서비스' },
      { hash: '#portfolio', text: '포트폴리오' },
      { hash: '#contract', text: '계약' },
    ];

    // 가상 DOM 생성
    const virtualDom = component(stateData);

    // 렌더링 결과를 특정 컨테이너에 추가
    const container = document.getElementById('root');
    container.appendChild(render(virtualDom));
  </script>
</body>
</html>